@{
    ViewData["Title"] = "Sign Up";
}

<div class="text-center">
    <h1 class="display-4">LuxVoiture</h1>
    <h2 class="display-4">Sign Up</h2>

    <div style="display:inline-grid; justify-content: center">
        <input type="text" id="lx_email" placeholder="email">
        <input type="password" id="lx_password" placeholder="password">
        <input type="password" id="lx_password_conf" placeholder="password">
        <button id="lx_signup_button" onclick="registerUser()">Sign Up</button>
    </div>

</div>
<script type="text/javascript">

    function registerUser() {

        var user = new Object();
        user.UserEmail = $("#lx_email").val();
        user.UserPwd = $("#lx_password").val();
        user.UserPwdConf = $("#lx_password_conf").val();

        console.log(user);

        $.ajax({
            type: "POST",
            url: "/User/RegisterUser",
            data: JSON.stringify(user),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function (response) {

                if (response == 406) {
                    alert("Your password does not match. Please check your password.");
                }
                if (response == 500) {
                    alert("Could not registered.");
                } 
                else
                {
                    var url = "@Url.Action("Index", "Home")";
                    window.location.href = url;
                }
            },
            failure: function (response) {
            },
            error: function (response) {
            }
        });
    };
</script>